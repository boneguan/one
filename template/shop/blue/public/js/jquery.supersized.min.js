(function(i){i(document).ready(function(){i("body").append('<div id="supersized-loader"></div><ul id="supersized"></ul>')});i.supersized=function(e){var s="#supersized",t=this;t.$el=i(s);t.el=s;vars=i.supersized.vars;t.$el.data("supersized",t);api=t.$el.data("supersized");t.init=function(){i.supersized.vars=i.extend(i.supersized.vars,i.supersized.themeVars);i.supersized.vars.options=i.extend({},i.supersized.defaultOptions,i.supersized.themeOptions,e);t.options=i.supersized.vars.options;t._build()};t._build=function(){var e=0,s="",a="",n,l="",o;while(e<=t.options.slides.length-1){switch(t.options.slide_links){case"num":n=e;break;case"name":n=t.options.slides[e].title;break;case"blank":n="";break}s=s+'<li class="slide-'+e+'"></li>';if(e==t.options.start_slide-1){if(t.options.slide_links){a=a+'<li class="slide-link-'+e+' current-slide"><a>'+n+"</a></li>"}if(t.options.thumb_links){t.options.slides[e].thumb?o=t.options.slides[e].thumb:o=t.options.slides[e].image;l=l+'<li class="thumb'+e+' current-thumb"><img src="'+o+'"/></li>'}}else{if(t.options.slide_links){a=a+'<li class="slide-link-'+e+'" ><a>'+n+"</a></li>"}if(t.options.thumb_links){t.options.slides[e].thumb?o=t.options.slides[e].thumb:o=t.options.slides[e].image;l=l+'<li class="thumb'+e+'"><img src="'+o+'"/></li>'}}e++}if(t.options.slide_links){i(vars.slide_list).html(a)}if(t.options.thumb_links&&vars.thumb_tray.length){i(vars.thumb_tray).append('<ul id="'+vars.thumb_list.replace("#","")+'">'+l+"</ul>")}i(t.el).append(s);if(t.options.thumbnail_navigation){vars.current_slide-1<0?prevThumb=t.options.slides.length-1:prevThumb=vars.current_slide-1;i(vars.prev_thumb).show().html(i("<img/>").attr("src",t.options.slides[prevThumb].image));vars.current_slide==t.options.slides.length-1?nextThumb=0:nextThumb=vars.current_slide+1;i(vars.next_thumb).show().html(i("<img/>").attr("src",t.options.slides[nextThumb].image))}t._start()};t._start=function(){if(t.options.start_slide){vars.current_slide=t.options.start_slide-1}else{vars.current_slide=Math.floor(Math.random()*t.options.slides.length)}var e=t.options.new_window?' target="_blank"':"";if(t.options.performance==3){t.$el.addClass("speed")}else{if(t.options.performance==1||t.options.performance==2){t.$el.addClass("quality")}}if(t.options.random){arr=t.options.slides;for(var s,a,n=arr.length;n;s=parseInt(Math.random()*n),a=arr[--n],arr[n]=arr[s],arr[s]=a){}t.options.slides=arr}if(t.options.slides.length>1){if(t.options.slides.length>2){vars.current_slide-1<0?loadPrev=t.options.slides.length-1:loadPrev=vars.current_slide-1;var l=t.options.slides[loadPrev].url?"href='"+t.options.slides[loadPrev].url+"'":"";var o=i('<img src="'+t.options.slides[loadPrev].image+'"/>');var r=t.el+" li:eq("+loadPrev+")";o.appendTo(r).wrap("<a "+l+e+"></a>").parent().parent().addClass("image-loading prevslide");o.load(function(){i(this).data("origWidth",i(this).width()).data("origHeight",i(this).height());t.resizeNow()})}}else{t.options.slideshow=0}l=api.getField("url")?"href='"+api.getField("url")+"'":"";var d=i('<img src="'+api.getField("image")+'"/>');var p=t.el+" li:eq("+vars.current_slide+")";d.appendTo(p).wrap("<a "+l+e+"></a>").parent().parent().addClass("image-loading activeslide");d.load(function(){t._origDim(i(this));t.resizeNow();t.launch();if(typeof theme!="undefined"&&typeof theme._init=="function"){theme._init()}});if(t.options.slides.length>1){vars.current_slide==t.options.slides.length-1?loadNext=0:loadNext=vars.current_slide+1;l=t.options.slides[loadNext].url?"href='"+t.options.slides[loadNext].url+"'":"";var h=i('<img src="'+t.options.slides[loadNext].image+'"/>');var f=t.el+" li:eq("+loadNext+")";h.appendTo(f).wrap("<a "+l+e+"></a>").parent().parent().addClass("image-loading");h.load(function(){i(this).data("origWidth",i(this).width()).data("origHeight",i(this).height());t.resizeNow()})}t.$el.css("visibility","hidden");i(".load-item").hide()};t.launch=function(){t.$el.css("visibility","visible");i("#supersized-loader").remove();if(typeof theme!="undefined"&&typeof theme.beforeAnimation=="function"){theme.beforeAnimation("next")}i(".load-item").show();if(t.options.keyboard_nav){i(document.documentElement).keyup(function(i){if(vars.in_animation){return false}if(i.keyCode==37||i.keyCode==40){clearInterval(vars.slideshow_interval);t.prevSlide()}else{if(i.keyCode==39||i.keyCode==38){clearInterval(vars.slideshow_interval);t.nextSlide()}else{if(i.keyCode==32&&!vars.hover_pause){clearInterval(vars.slideshow_interval);t.playToggle()}}}})}if(t.options.slideshow&&t.options.pause_hover){i(t.el).hover(function(){if(vars.in_animation){return false}vars.hover_pause=true;if(!vars.is_paused){vars.hover_pause="resume";t.playToggle()}},function(){if(vars.hover_pause=="resume"){t.playToggle();vars.hover_pause=false}})}if(t.options.slide_links){i(vars.slide_list+"> li").click(function(){index=i(vars.slide_list+"> li").index(this);targetSlide=index+1;t.goTo(targetSlide);return false})}if(t.options.thumb_links){i(vars.thumb_list+"> li").click(function(){index=i(vars.thumb_list+"> li").index(this);targetSlide=index+1;api.goTo(targetSlide);return false})}if(t.options.slideshow&&t.options.slides.length>1){if(t.options.autoplay&&t.options.slides.length>1){vars.slideshow_interval=setInterval(t.nextSlide,t.options.slide_interval)}else{vars.is_paused=true}i(".load-item img").bind("contextmenu mousedown",function(){return false})}i(window).resize(function(){t.resizeNow()})};t.resizeNow=function(){return t.$el.each(function(){i("img",t.el).each(function(){thisSlide=i(this);var e=(thisSlide.data("origHeight")/thisSlide.data("origWidth")).toFixed(2);var s=t.$el.width(),a=t.$el.height(),n;if(t.options.fit_always){if(a/s>e){l()}else{o()}}else{if(a<=t.options.min_height&&s<=t.options.min_width){if(a/s>e){t.options.fit_landscape&&e<1?l(true):o(true)}else{t.options.fit_portrait&&e>=1?o(true):l(true)}}else{if(s<=t.options.min_width){if(a/s>e){t.options.fit_landscape&&e<1?l(true):o()}else{t.options.fit_portrait&&e>=1?o():l(true)}}else{if(a<=t.options.min_height){if(a/s>e){t.options.fit_landscape&&e<1?l():o(true)}else{t.options.fit_portrait&&e>=1?o(true):l()}}else{if(a/s>e){t.options.fit_landscape&&e<1?l():o()}else{t.options.fit_portrait&&e>=1?o():l()}}}}}function l(i){if(i){if(thisSlide.width()<s||thisSlide.width()<t.options.min_width){if(thisSlide.width()*e>=t.options.min_height){thisSlide.width(t.options.min_width);thisSlide.height(thisSlide.width()*e)}else{o()}}}else{if(t.options.min_height>=a&&!t.options.fit_landscape){if(s*e>=t.options.min_height||s*e>=t.options.min_height&&e<=1){thisSlide.width(s);thisSlide.height(s*e)}else{if(e>1){thisSlide.height(t.options.min_height);thisSlide.width(thisSlide.height()/e)}else{if(thisSlide.width()<s){thisSlide.width(s);thisSlide.height(thisSlide.width()*e)}}}}else{thisSlide.width(s);thisSlide.height(s*e)}}}function o(i){if(i){if(thisSlide.height()<a){if(thisSlide.height()/e>=t.options.min_width){thisSlide.height(t.options.min_height);thisSlide.width(thisSlide.height()/e)}else{l(true)}}}else{if(t.options.min_width>=s){if(a/e>=t.options.min_width||e>1){thisSlide.height(a);thisSlide.width(a/e)}else{if(e<=1){thisSlide.width(t.options.min_width);thisSlide.height(thisSlide.width()*e)}}}else{thisSlide.height(a);thisSlide.width(a/e)}}}if(thisSlide.parents("li").hasClass("image-loading")){i(".image-loading").removeClass("image-loading")}if(t.options.horizontal_center){i(this).css("left",(s-i(this).width())/2)}if(t.options.vertical_center){i(this).css("top",(a-i(this).height())/2)}});if(t.options.image_protect){i("img",t.el).bind("contextmenu mousedown",function(){return false})}return false})};t.nextSlide=function(){if(vars.in_animation||!api.options.slideshow){return false}else{vars.in_animation=true}clearInterval(vars.slideshow_interval);var e=t.options.slides,s=t.$el.find(".activeslide");i(".prevslide").removeClass("prevslide");s.removeClass("activeslide").addClass("prevslide");vars.current_slide+1==t.options.slides.length?vars.current_slide=0:vars.current_slide++;var a=i(t.el+" li:eq("+vars.current_slide+")"),n=t.$el.find(".prevslide");if(t.options.performance==1){t.$el.removeClass("quality").addClass("speed")}loadSlide=false;vars.current_slide==t.options.slides.length-1?loadSlide=0:loadSlide=vars.current_slide+1;var l=t.el+" li:eq("+loadSlide+")";if(!i(l).html()){var o=t.options.new_window?' target="_blank"':"";imageLink=t.options.slides[loadSlide].url?"href='"+t.options.slides[loadSlide].url+"'":"";var r=i('<img src="'+t.options.slides[loadSlide].image+'"/>');r.appendTo(l).wrap("<a "+imageLink+o+"></a>").parent().parent().addClass("image-loading").css("visibility","hidden");r.load(function(){t._origDim(i(this));t.resizeNow()})}if(t.options.thumbnail_navigation==1){vars.current_slide-1<0?prevThumb=t.options.slides.length-1:prevThumb=vars.current_slide-1;i(vars.prev_thumb).html(i("<img/>").attr("src",t.options.slides[prevThumb].image));nextThumb=loadSlide;i(vars.next_thumb).html(i("<img/>").attr("src",t.options.slides[nextThumb].image))}if(typeof theme!="undefined"&&typeof theme.beforeAnimation=="function"){theme.beforeAnimation("next")}if(t.options.slide_links){i(".current-slide").removeClass("current-slide");i(vars.slide_list+"> li").eq(vars.current_slide).addClass("current-slide")}a.css("visibility","hidden").addClass("activeslide");switch(t.options.transition){case 0:case"none":a.css("visibility","visible");vars.in_animation=false;t.afterAnimation();break;case 1:case"fade":a.animate({opacity:0},0).css("visibility","visible").animate({opacity:1,avoidTransforms:false},t.options.transition_speed,function(){t.afterAnimation()});break;case 2:case"slideTop":a.animate({top:-t.$el.height()},0).css("visibility","visible").animate({top:0,avoidTransforms:false},t.options.transition_speed,function(){t.afterAnimation()});break;case 3:case"slideRight":a.animate({left:t.$el.width()},0).css("visibility","visible").animate({left:0,avoidTransforms:false},t.options.transition_speed,function(){t.afterAnimation()});break;case 4:case"slideBottom":a.animate({top:t.$el.height()},0).css("visibility","visible").animate({top:0,avoidTransforms:false},t.options.transition_speed,function(){t.afterAnimation()});break;case 5:case"slideLeft":a.animate({left:-t.$el.width()},0).css("visibility","visible").animate({left:0,avoidTransforms:false},t.options.transition_speed,function(){t.afterAnimation()});break;case 6:case"carouselRight":a.animate({left:t.$el.width()},0).css("visibility","visible").animate({left:0,avoidTransforms:false},t.options.transition_speed,function(){t.afterAnimation()});s.animate({left:-t.$el.width(),avoidTransforms:false},t.options.transition_speed);break;case 7:case"carouselLeft":a.animate({left:-t.$el.width()},0).css("visibility","visible").animate({left:0,avoidTransforms:false},t.options.transition_speed,function(){t.afterAnimation()});s.animate({left:t.$el.width(),avoidTransforms:false},t.options.transition_speed);break}return false};t.prevSlide=function(){if(vars.in_animation||!api.options.slideshow){return false}else{vars.in_animation=true}clearInterval(vars.slideshow_interval);var e=t.options.slides,s=t.$el.find(".activeslide");i(".prevslide").removeClass("prevslide");s.removeClass("activeslide").addClass("prevslide");vars.current_slide==0?vars.current_slide=t.options.slides.length-1:vars.current_slide--;var a=i(t.el+" li:eq("+vars.current_slide+")"),n=t.$el.find(".prevslide");if(t.options.performance==1){t.$el.removeClass("quality").addClass("speed")}loadSlide=vars.current_slide;var l=t.el+" li:eq("+loadSlide+")";if(!i(l).html()){var o=t.options.new_window?' target="_blank"':"";imageLink=t.options.slides[loadSlide].url?"href='"+t.options.slides[loadSlide].url+"'":"";var r=i('<img src="'+t.options.slides[loadSlide].image+'"/>');r.appendTo(l).wrap("<a "+imageLink+o+"></a>").parent().parent().addClass("image-loading").css("visibility","hidden");r.load(function(){t._origDim(i(this));t.resizeNow()})}if(t.options.thumbnail_navigation==1){loadSlide==0?prevThumb=t.options.slides.length-1:prevThumb=loadSlide-1;i(vars.prev_thumb).html(i("<img/>").attr("src",t.options.slides[prevThumb].image));vars.current_slide==t.options.slides.length-1?nextThumb=0:nextThumb=vars.current_slide+1;i(vars.next_thumb).html(i("<img/>").attr("src",t.options.slides[nextThumb].image))}if(typeof theme!="undefined"&&typeof theme.beforeAnimation=="function"){theme.beforeAnimation("prev")}if(t.options.slide_links){i(".current-slide").removeClass("current-slide");i(vars.slide_list+"> li").eq(vars.current_slide).addClass("current-slide")}a.css("visibility","hidden").addClass("activeslide");switch(t.options.transition){case 0:case"none":a.css("visibility","visible");vars.in_animation=false;t.afterAnimation();break;case 1:case"fade":a.animate({opacity:0},0).css("visibility","visible").animate({opacity:1,avoidTransforms:false},t.options.transition_speed,function(){t.afterAnimation()});break;case 2:case"slideTop":a.animate({top:t.$el.height()},0).css("visibility","visible").animate({top:0,avoidTransforms:false},t.options.transition_speed,function(){t.afterAnimation()});break;case 3:case"slideRight":a.animate({left:-t.$el.width()},0).css("visibility","visible").animate({left:0,avoidTransforms:false},t.options.transition_speed,function(){t.afterAnimation()});break;case 4:case"slideBottom":a.animate({top:-t.$el.height()},0).css("visibility","visible").animate({top:0,avoidTransforms:false},t.options.transition_speed,function(){t.afterAnimation()});break;case 5:case"slideLeft":a.animate({left:t.$el.width()},0).css("visibility","visible").animate({left:0,avoidTransforms:false},t.options.transition_speed,function(){t.afterAnimation()});break;case 6:case"carouselRight":a.animate({left:-t.$el.width()},0).css("visibility","visible").animate({left:0,avoidTransforms:false},t.options.transition_speed,function(){t.afterAnimation()});s.animate({left:0},0).animate({left:t.$el.width(),avoidTransforms:false},t.options.transition_speed);break;case 7:case"carouselLeft":a.animate({left:t.$el.width()},0).css("visibility","visible").animate({left:0,avoidTransforms:false},t.options.transition_speed,function(){t.afterAnimation()});s.animate({left:0},0).animate({left:-t.$el.width(),avoidTransforms:false},t.options.transition_speed);break}return false};t.playToggle=function(){if(vars.in_animation||!api.options.slideshow){return false}if(vars.is_paused){vars.is_paused=false;if(typeof theme!="undefined"&&typeof theme.playToggle=="function"){theme.playToggle("play")}vars.slideshow_interval=setInterval(t.nextSlide,t.options.slide_interval)}else{vars.is_paused=true;if(typeof theme!="undefined"&&typeof theme.playToggle=="function"){theme.playToggle("pause")}clearInterval(vars.slideshow_interval)}return false};t.goTo=function(e){if(vars.in_animation||!api.options.slideshow){return false}var s=t.options.slides.length;if(e<0){e=s}else{if(e>s){e=1}}e=s-e+1;clearInterval(vars.slideshow_interval);if(typeof theme!="undefined"&&typeof theme.goTo=="function"){theme.goTo()}if(vars.current_slide==s-e){if(!vars.is_paused){vars.slideshow_interval=setInterval(t.nextSlide,t.options.slide_interval)}return false}if(s-e>vars.current_slide){vars.current_slide=s-e-1;vars.update_images="next";t._placeSlide(vars.update_images)}else{if(s-e<vars.current_slide){vars.current_slide=s-e+1;vars.update_images="prev";t._placeSlide(vars.update_images)}}if(t.options.slide_links){i(vars.slide_list+"> .current-slide").removeClass("current-slide");i(vars.slide_list+"> li").eq(s-e).addClass("current-slide")}if(t.options.thumb_links){i(vars.thumb_list+"> .current-thumb").removeClass("current-thumb");i(vars.thumb_list+"> li").eq(s-e).addClass("current-thumb")}};t._placeSlide=function(e){var s=t.options.new_window?' target="_blank"':"";loadSlide=false;if(e=="next"){vars.current_slide==t.options.slides.length-1?loadSlide=0:loadSlide=vars.current_slide+1;var a=t.el+" li:eq("+loadSlide+")";if(!i(a).html()){var s=t.options.new_window?' target="_blank"':"";imageLink=t.options.slides[loadSlide].url?"href='"+t.options.slides[loadSlide].url+"'":"";var n=i('<img src="'+t.options.slides[loadSlide].image+'"/>');n.appendTo(a).wrap("<a "+imageLink+s+"></a>").parent().parent().addClass("image-loading").css("visibility","hidden");n.load(function(){t._origDim(i(this));t.resizeNow()})}t.nextSlide()}else{if(e=="prev"){vars.current_slide-1<0?loadSlide=t.options.slides.length-1:loadSlide=vars.current_slide-1;var a=t.el+" li:eq("+loadSlide+")";if(!i(a).html()){var s=t.options.new_window?' target="_blank"':"";imageLink=t.options.slides[loadSlide].url?"href='"+t.options.slides[loadSlide].url+"'":"";var n=i('<img src="'+t.options.slides[loadSlide].image+'"/>');n.appendTo(a).wrap("<a "+imageLink+s+"></a>").parent().parent().addClass("image-loading").css("visibility","hidden");n.load(function(){t._origDim(i(this));t.resizeNow()})}t.prevSlide()}}};t._origDim=function(i){i.data("origWidth",i.width()).data("origHeight",i.height())};t.afterAnimation=function(){if(t.options.performance==1){t.$el.removeClass("speed").addClass("quality")}if(vars.update_images){vars.current_slide-1<0?setPrev=t.options.slides.length-1:setPrev=vars.current_slide-1;vars.update_images=false;i(".prevslide").removeClass("prevslide");i(t.el+" li:eq("+setPrev+")").addClass("prevslide")}vars.in_animation=false;if(!vars.is_paused&&t.options.slideshow){vars.slideshow_interval=setInterval(t.nextSlide,t.options.slide_interval);if(t.options.stop_loop&&vars.current_slide==t.options.slides.length-1){t.playToggle()}}if(typeof theme!="undefined"&&typeof theme.afterAnimation=="function"){theme.afterAnimation()}return false};t.getField=function(i){return t.options.slides[vars.current_slide][i]};t.init()};i.supersized.vars={thumb_tray:"#thumb-tray",thumb_list:"#thumb-list",slide_list:"#slide-list",current_slide:0,in_animation:false,is_paused:false,hover_pause:false,slideshow_interval:false,update_images:false,options:{}};i.supersized.defaultOptions={slideshow:1,autoplay:1,start_slide:1,stop_loop:0,random:0,slide_interval:5e3,transition:1,transition_speed:750,new_window:1,pause_hover:0,keyboard_nav:1,performance:1,image_protect:1,fit_always:0,fit_landscape:0,fit_portrait:1,min_width:0,min_height:0,horizontal_center:1,vertical_center:1,slide_links:1,thumb_links:1,thumbnail_navigation:0};i.fn.supersized=function(e){return this.each(function(){new i.supersized(e)})}})(jQuery);